{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block stylesheets %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
{% endblock %}

{% form_theme form _self %}

{% block header %}{% endblock %}

{% block main %} 
    <div class="container">
        <h1 class='my-4'>Inscrivez vous sur notre site !</h1>
            {{ form_start(form) }}
                <div class="row">
                    <div class="col">
                        <div class="alert alert-light">
                            <h2 class="alert-heading">Informations générales</h2>
                            <hr>
                            {{ form_row(form.firstname) }}
                            {{ form_row(form.lastname) }}
                            {{ form_row(form.email) }}
                        </div>
                        <div class="alert alert-light">
                            <h2 class="alert-heading">Securité</h2>
                            <hr>
                            {{ form_row(form.password) }}
                            {{ form_row(form.passwordConfirm) }}
                            {{ form_row(form.termsAccepted) }}
                        </div>                
                    </div>
                    <div class="col">
                        <div class="alert alert-light">
                            <h2 class="alert-heading">Questionnaire(s)</h2>
                            <hr>
                            {% for content in contents %}
                                <fieldset class="form-group">
                                    <legend>{{ content.question }}</legend>
                                        <div class="form-check">
                                            <label class="form-check-label">
                                            <input type="radio" class="form-check-input" name="question-{{ content.id }}" id="question-{{ content.id }}-{{ loop.index0 }}" value="true" required>
                                                Vrai
                                            </label>                                          
                                        </div>
                                        <div class="form-check">
                                            <label class="form-check-label">
                                            <input type="radio" class="form-check-input" name="question-{{ content.id }}" id="question-{{ content.id }}-{{ loop.index }}" value="false" required>
                                                Faux
                                            </label>                                          
                                        </div>
                                </fieldset>                            
                            {% endfor %}
                        </div>
                        <div class="alert alert-light">
                            <h2 class="alert-heading">{{ form_label(form.tutor) }}</h2>
                            <hr>
                            {{ form_row(form.tutor) }}
                        </div>                                 
                    </div>
                </div>
                <div class="col text-center mb-3">
                    <button type="submit" class="btn btn-success"><i class="fas fa-check"></i> Confirmez l'inscription</button>         
                </div>                
        {{ form_end(form) }}        
    </div>            
{% endblock %}

{% block _registration_tutor_row %}
    {{ form_errors(form) }}
    {{ form_widget(form) }}
{% endblock %}

{% block javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#registration_tutor').select2();
        });
    </script>
{% endblock %}